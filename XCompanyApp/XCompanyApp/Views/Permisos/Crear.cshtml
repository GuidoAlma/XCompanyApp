@using XCompanyApp.Models
@{
    ViewBag.Title = "Crear Nuevo Permiso";
}

@using (Html.BeginForm("Crear", "Permisos", FormMethod.Post, new { id = "form" }))
{
    <div class="form-group">
        <label for="nombre">Nombre:</label>
        <input id="nombre" name="nombre" type="text" class="form-control" />
    </div>
    <div class="form-group">
        <label for="apellidos">Apellidos:</label>
        <input id="apellidos" name="apellidos" type="text" class="form-control" />
    </div>
    <div class="form-group">
        <label for="tipoPermiso">Tipo Permiso:</label>

        <select id="tipoPermiso" name="tipoPermiso">
            @{
                foreach (var tipo in ViewBag.TipoPermisos)
                {
                    <option value="@tipo.Id" selected>@tipo.Descripcion</option>
                }
            }
        </select>
    </div>
    <input type="submit" class="btn-primary" id="formSubmit"/>
}

<script>
    function formSubmit(event) {
        event.preventDefault();
        var validName = document.getElementById('nombre').value !== '';
        var validApellidos = document.getElementById('apellidos').value !== '';
        if (validName && validApellidos) {
            event.target.submit();
        }
    }

    var form = document.getElementById('form');
    form.addEventListener('submit', formSubmit);
</script>
